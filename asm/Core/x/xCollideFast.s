.include "macros.inc"

.section .sdata2

.global $$2684
$$2684:
	.incbin "baserom.dol", 0x32E908, 0x4
.global $$2685_0
$$2685_0:
	.incbin "baserom.dol", 0x32E90C, 0x4

.section .text

.global xRayHitsSphereFast__FPC5xRay3PC7xSphere
xRayHitsSphereFast__FPC5xRay3PC7xSphere:
/* 8001BF50 00018D50  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 8001BF54 00018D54  7C 08 02 A6 */	mflr r0
/* 8001BF58 00018D58  90 01 00 34 */	stw r0, 0x34(r1)
/* 8001BF5C 00018D5C  DB E1 00 20 */	stfd f31, 0x20(r1)
/* 8001BF60 00018D60  F3 E1 00 28 */	psq_st f31, 40(r1), 0, qr0
/* 8001BF64 00018D64  BF C1 00 18 */	stmw r30, 0x18(r1)
/* 8001BF68 00018D68  7C 7E 1B 78 */	mr r30, r3
/* 8001BF6C 00018D6C  7C 9F 23 78 */	mr r31, r4
/* 8001BF70 00018D70  7F C4 F3 78 */	mr r4, r30
/* 8001BF74 00018D74  38 61 00 08 */	addi r3, r1, 8
/* 8001BF78 00018D78  7F E5 FB 78 */	mr r5, r31
/* 8001BF7C 00018D7C  4B FE B9 31 */	bl xVec3Sub__FP5xVec3PC5xVec3PC5xVec3
/* 8001BF80 00018D80  38 61 00 08 */	addi r3, r1, 8
/* 8001BF84 00018D84  7C 64 1B 78 */	mr r4, r3
/* 8001BF88 00018D88  48 05 57 BD */	bl xVec3Dot__FPC5xVec3PC5xVec3
/* 8001BF8C 00018D8C  C0 7F 00 0C */	lfs f3, 0xc(r31)
/* 8001BF90 00018D90  C0 02 82 28 */	lfs f0, $$2684-_SDA2_BASE_(r2)
/* 8001BF94 00018D94  EC 43 00 F2 */	fmuls f2, f3, f3
/* 8001BF98 00018D98  EF E1 10 28 */	fsubs f31, f1, f2
/* 8001BF9C 00018D9C  FC 1F 00 40 */	fcmpo cr0, f31, f0
/* 8001BFA0 00018DA0  4C 40 13 82 */	cror 2, 0, 2
/* 8001BFA4 00018DA4  40 82 00 0C */	bne lbl_8001BFB0
/* 8001BFA8 00018DA8  38 60 00 01 */	li r3, 1
/* 8001BFAC 00018DAC  48 00 00 68 */	b lbl_8001C014
lbl_8001BFB0:
/* 8001BFB0 00018DB0  80 1E 00 20 */	lwz r0, 0x20(r30)
/* 8001BFB4 00018DB4  54 00 05 29 */	rlwinm. r0, r0, 0, 0x14, 0x14
/* 8001BFB8 00018DB8  41 82 00 24 */	beq lbl_8001BFDC
/* 8001BFBC 00018DBC  C0 3E 00 1C */	lfs f1, 0x1c(r30)
/* 8001BFC0 00018DC0  C0 02 82 2C */	lfs f0, $$2685_0-_SDA2_BASE_(r2)
/* 8001BFC4 00018DC4  EC 00 08 FA */	fmadds f0, f0, f3, f1
/* 8001BFC8 00018DC8  EC 01 00 32 */	fmuls f0, f1, f0
/* 8001BFCC 00018DCC  FC 1F 00 40 */	fcmpo cr0, f31, f0
/* 8001BFD0 00018DD0  40 81 00 0C */	ble lbl_8001BFDC
/* 8001BFD4 00018DD4  38 60 00 00 */	li r3, 0
/* 8001BFD8 00018DD8  48 00 00 3C */	b lbl_8001C014
lbl_8001BFDC:
/* 8001BFDC 00018DDC  38 61 00 08 */	addi r3, r1, 8
/* 8001BFE0 00018DE0  38 9E 00 0C */	addi r4, r30, 0xc
/* 8001BFE4 00018DE4  48 05 57 61 */	bl xVec3Dot__FPC5xVec3PC5xVec3
/* 8001BFE8 00018DE8  C0 02 82 28 */	lfs f0, $$2684-_SDA2_BASE_(r2)
/* 8001BFEC 00018DEC  FC 01 00 40 */	fcmpo cr0, f1, f0
/* 8001BFF0 00018DF0  4C 41 13 82 */	cror 2, 1, 2
/* 8001BFF4 00018DF4  40 82 00 0C */	bne lbl_8001C000
/* 8001BFF8 00018DF8  38 60 00 00 */	li r3, 0
/* 8001BFFC 00018DFC  48 00 00 18 */	b lbl_8001C014
lbl_8001C000:
/* 8001C000 00018E00  EC 01 00 72 */	fmuls f0, f1, f1
/* 8001C004 00018E04  FC 00 F8 40 */	fcmpo cr0, f0, f31
/* 8001C008 00018E08  4C 41 13 82 */	cror 2, 1, 2
/* 8001C00C 00018E0C  7C 00 00 26 */	mfcr r0
/* 8001C010 00018E10  54 03 1F FE */	rlwinm r3, r0, 3, 0x1f, 0x1f
lbl_8001C014:
/* 8001C014 00018E14  E3 E1 00 28 */	psq_l f31, 40(r1), 0, qr0
/* 8001C018 00018E18  CB E1 00 20 */	lfd f31, 0x20(r1)
/* 8001C01C 00018E1C  BB C1 00 18 */	lmw r30, 0x18(r1)
/* 8001C020 00018E20  80 01 00 34 */	lwz r0, 0x34(r1)
/* 8001C024 00018E24  7C 08 03 A6 */	mtlr r0
/* 8001C028 00018E28  38 21 00 30 */	addi r1, r1, 0x30
/* 8001C02C 00018E2C  4E 80 00 20 */	blr 

.global xRayHitsBoxFast__FPC5xRay3PC4xBox
xRayHitsBoxFast__FPC5xRay3PC4xBox:
/* 8001C030 00018E30  94 21 FF C0 */	stwu r1, -0x40(r1)
/* 8001C034 00018E34  7C 08 02 A6 */	mflr r0
/* 8001C038 00018E38  90 01 00 44 */	stw r0, 0x44(r1)
/* 8001C03C 00018E3C  7C 60 1B 78 */	mr r0, r3
/* 8001C040 00018E40  7C 83 23 78 */	mr r3, r4
/* 8001C044 00018E44  38 A1 00 08 */	addi r5, r1, 8
/* 8001C048 00018E48  7C 04 03 78 */	mr r4, r0
/* 8001C04C 00018E4C  48 05 BB AD */	bl iBoxIsectRay__FPC4xBoxPC5xRay3P6xIsect
/* 8001C050 00018E50  C0 01 00 0C */	lfs f0, 0xc(r1)
/* 8001C054 00018E54  38 00 00 00 */	li r0, 0
/* 8001C058 00018E58  C0 22 82 28 */	lfs f1, $$2684-_SDA2_BASE_(r2)
/* 8001C05C 00018E5C  FC 00 08 40 */	fcmpo cr0, f0, f1
/* 8001C060 00018E60  4C 40 13 82 */	cror 2, 0, 2
/* 8001C064 00018E64  41 82 00 14 */	beq lbl_8001C078
/* 8001C068 00018E68  C0 01 00 10 */	lfs f0, 0x10(r1)
/* 8001C06C 00018E6C  FC 00 08 40 */	fcmpo cr0, f0, f1
/* 8001C070 00018E70  4C 40 13 82 */	cror 2, 0, 2
/* 8001C074 00018E74  40 82 00 08 */	bne lbl_8001C07C
lbl_8001C078:
/* 8001C078 00018E78  38 00 00 01 */	li r0, 1
lbl_8001C07C:
/* 8001C07C 00018E7C  54 03 06 3E */	clrlwi r3, r0, 0x18
/* 8001C080 00018E80  80 01 00 44 */	lwz r0, 0x44(r1)
/* 8001C084 00018E84  7C 08 03 A6 */	mtlr r0
/* 8001C088 00018E88  38 21 00 40 */	addi r1, r1, 0x40
/* 8001C08C 00018E8C  4E 80 00 20 */	blr 

.global xRayHitsCylinderFast__FPC5xRay3PC9xCylinder
xRayHitsCylinderFast__FPC5xRay3PC9xCylinder:
/* 8001C090 00018E90  94 21 FF C0 */	stwu r1, -0x40(r1)
/* 8001C094 00018E94  7C 08 02 A6 */	mflr r0
/* 8001C098 00018E98  90 01 00 44 */	stw r0, 0x44(r1)
/* 8001C09C 00018E9C  7C 60 1B 78 */	mr r0, r3
/* 8001C0A0 00018EA0  7C 83 23 78 */	mr r3, r4
/* 8001C0A4 00018EA4  38 A1 00 08 */	addi r5, r1, 8
/* 8001C0A8 00018EA8  7C 04 03 78 */	mr r4, r0
/* 8001C0AC 00018EAC  48 05 AF 09 */	bl iCylinderIsectRay__FPC9xCylinderPC5xRay3P6xIsect
/* 8001C0B0 00018EB0  C0 01 00 0C */	lfs f0, 0xc(r1)
/* 8001C0B4 00018EB4  38 00 00 00 */	li r0, 0
/* 8001C0B8 00018EB8  C0 22 82 28 */	lfs f1, $$2684-_SDA2_BASE_(r2)
/* 8001C0BC 00018EBC  FC 00 08 40 */	fcmpo cr0, f0, f1
/* 8001C0C0 00018EC0  4C 40 13 82 */	cror 2, 0, 2
/* 8001C0C4 00018EC4  41 82 00 14 */	beq lbl_8001C0D8
/* 8001C0C8 00018EC8  C0 01 00 10 */	lfs f0, 0x10(r1)
/* 8001C0CC 00018ECC  FC 00 08 40 */	fcmpo cr0, f0, f1
/* 8001C0D0 00018ED0  4C 40 13 82 */	cror 2, 0, 2
/* 8001C0D4 00018ED4  40 82 00 08 */	bne lbl_8001C0DC
lbl_8001C0D8:
/* 8001C0D8 00018ED8  38 00 00 01 */	li r0, 1
lbl_8001C0DC:
/* 8001C0DC 00018EDC  54 03 06 3E */	clrlwi r3, r0, 0x18
/* 8001C0E0 00018EE0  80 01 00 44 */	lwz r0, 0x44(r1)
/* 8001C0E4 00018EE4  7C 08 03 A6 */	mtlr r0
/* 8001C0E8 00018EE8  38 21 00 40 */	addi r1, r1, 0x40
/* 8001C0EC 00018EEC  4E 80 00 20 */	blr 

.global xRayHitsBoundFast__FPC5xRay3PC6xBound
xRayHitsBoundFast__FPC5xRay3PC6xBound:
/* 8001C0F0 00018EF0  54 2B 07 3E */	clrlwi r11, r1, 0x1c
/* 8001C0F4 00018EF4  7C 2C 0B 78 */	mr r12, r1
/* 8001C0F8 00018EF8  21 6B FF 70 */	subfic r11, r11, -144
/* 8001C0FC 00018EFC  7C 21 59 6E */	stwux r1, r1, r11
/* 8001C100 00018F00  7C 08 02 A6 */	mflr r0
/* 8001C104 00018F04  90 0C 00 04 */	stw r0, 4(r12)
/* 8001C108 00018F08  DB EC FF F0 */	stfd f31, -0x10(r12)
/* 8001C10C 00018F0C  F3 EC 0F F8 */	psq_st f31, -8(r12), 0, qr0
/* 8001C110 00018F10  BF CC FF E8 */	stmw r30, -0x18(r12)
/* 8001C114 00018F14  7C 9F 23 78 */	mr r31, r4
/* 8001C118 00018F18  7C 7E 1B 78 */	mr r30, r3
/* 8001C11C 00018F1C  88 04 00 20 */	lbz r0, 0x20(r4)
/* 8001C120 00018F20  28 00 00 01 */	cmplwi r0, 1
/* 8001C124 00018F24  40 82 00 10 */	bne lbl_8001C134
/* 8001C128 00018F28  38 9F 00 24 */	addi r4, r31, 0x24
/* 8001C12C 00018F2C  4B FF FE 25 */	bl xRayHitsSphereFast__FPC5xRay3PC7xSphere
/* 8001C130 00018F30  48 00 00 A0 */	b lbl_8001C1D0
lbl_8001C134:
/* 8001C134 00018F34  28 00 00 04 */	cmplwi r0, 4
/* 8001C138 00018F38  40 82 00 6C */	bne lbl_8001C1A4
/* 8001C13C 00018F3C  80 7F 00 48 */	lwz r3, 0x48(r31)
/* 8001C140 00018F40  4B FF 44 CD */	bl xVec3Length__FPC5xVec3
/* 8001C144 00018F44  FF E0 08 90 */	fmr f31, f1
/* 8001C148 00018F48  80 9F 00 48 */	lwz r4, 0x48(r31)
/* 8001C14C 00018F4C  38 61 00 10 */	addi r3, r1, 0x10
/* 8001C150 00018F50  48 02 B8 3D */	bl xMat3x3Normalize__FP7xMat3x3PC7xMat3x3
/* 8001C154 00018F54  80 9F 00 48 */	lwz r4, 0x48(r31)
/* 8001C158 00018F58  7F C5 F3 78 */	mr r5, r30
/* 8001C15C 00018F5C  38 61 00 40 */	addi r3, r1, 0x40
/* 8001C160 00018F60  4B FF 1E 35 */	bl xMat4x3Tolocal__FP5xVec3PC7xMat4x3PC5xVec3
/* 8001C164 00018F64  38 61 00 4C */	addi r3, r1, 0x4c
/* 8001C168 00018F68  38 81 00 10 */	addi r4, r1, 0x10
/* 8001C16C 00018F6C  38 BE 00 0C */	addi r5, r30, 0xc
/* 8001C170 00018F70  48 02 CB B5 */	bl xMat3x3Tolocal__FP5xVec3PC7xMat3x3PC5xVec3
/* 8001C174 00018F74  C0 3E 00 1C */	lfs f1, 0x1c(r30)
/* 8001C178 00018F78  38 61 00 40 */	addi r3, r1, 0x40
/* 8001C17C 00018F7C  C0 1E 00 18 */	lfs f0, 0x18(r30)
/* 8001C180 00018F80  38 9F 00 30 */	addi r4, r31, 0x30
/* 8001C184 00018F84  EC 21 F8 24 */	fdivs f1, f1, f31
/* 8001C188 00018F88  80 1E 00 20 */	lwz r0, 0x20(r30)
/* 8001C18C 00018F8C  90 01 00 60 */	stw r0, 0x60(r1)
/* 8001C190 00018F90  EC 00 F8 24 */	fdivs f0, f0, f31
/* 8001C194 00018F94  D0 21 00 5C */	stfs f1, 0x5c(r1)
/* 8001C198 00018F98  D0 01 00 58 */	stfs f0, 0x58(r1)
/* 8001C19C 00018F9C  4B FF FE 95 */	bl xRayHitsBoxFast__FPC5xRay3PC4xBox
/* 8001C1A0 00018FA0  48 00 00 30 */	b lbl_8001C1D0
lbl_8001C1A4:
/* 8001C1A4 00018FA4  28 00 00 02 */	cmplwi r0, 2
/* 8001C1A8 00018FA8  40 82 00 10 */	bne lbl_8001C1B8
/* 8001C1AC 00018FAC  38 9F 00 30 */	addi r4, r31, 0x30
/* 8001C1B0 00018FB0  4B FF FE 81 */	bl xRayHitsBoxFast__FPC5xRay3PC4xBox
/* 8001C1B4 00018FB4  48 00 00 1C */	b lbl_8001C1D0
lbl_8001C1B8:
/* 8001C1B8 00018FB8  28 00 00 03 */	cmplwi r0, 3
/* 8001C1BC 00018FBC  40 82 00 10 */	bne lbl_8001C1CC
/* 8001C1C0 00018FC0  38 9F 00 24 */	addi r4, r31, 0x24
/* 8001C1C4 00018FC4  4B FF FE CD */	bl xRayHitsCylinderFast__FPC5xRay3PC9xCylinder
/* 8001C1C8 00018FC8  48 00 00 08 */	b lbl_8001C1D0
lbl_8001C1CC:
/* 8001C1CC 00018FCC  38 60 00 00 */	li r3, 0
lbl_8001C1D0:
/* 8001C1D0 00018FD0  81 41 00 00 */	lwz r10, 0(r1)
/* 8001C1D4 00018FD4  E3 EA 0F F8 */	psq_l f31, -8(r10), 0, qr0
/* 8001C1D8 00018FD8  CB EA FF F0 */	lfd f31, -0x10(r10)
/* 8001C1DC 00018FDC  BB CA FF E8 */	lmw r30, -0x18(r10)
/* 8001C1E0 00018FE0  80 0A 00 04 */	lwz r0, 4(r10)
/* 8001C1E4 00018FE4  7C 08 03 A6 */	mtlr r0
/* 8001C1E8 00018FE8  7D 41 53 78 */	mr r1, r10
/* 8001C1EC 00018FEC  4E 80 00 20 */	blr 
